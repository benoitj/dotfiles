export PATH=$PATH:~/.local/bin

# setup usb disk daemon
udiskie -a -N &

# keyboard config
setxkbmap dvorak -option ctrl:nocaps  

sxhkd -m -1 &

# authentication agent
/usr/lib/mate-polkit/polkit-mate-authentication-agent-1 &

# TODO setup screensaver
#test -x ~/.local/bin/asciiquarium_screensaver && xss-lock -- ~/.local/bin/asciiquarium_screensaver &
#xset s 300 300

# TODO setup wallpaper
#~/.config/scripts/cli/wallpaper.sh &

nextcloud &

# notifications
dunst &

#compositor
compton &

# status bar
/usr/local/bin/dwmstatus &

# configure fifo
test -p /tmp/dwm.fifo || (umask 077; mkfifo /tmp/dwm.fifo)

#exec /usr/bin/i3
#exec /usr/local/bin/dwm

xrdb ~/.Xresources

export GPG_TTY="$(tty)"
export SSH_AUTH_SOCK="$(gpgconf --list-dirs agent-ssh-socket)"
gpg-connect-agent updatestartuptty /bye > /dev/null 2>&1

exec dbus-launch --exit-with-session /usr/local/bin/dwm
